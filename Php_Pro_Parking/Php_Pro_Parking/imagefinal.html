<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<style>

#container
{
height:150px;
width:100px;
}

#videoElement {
    width: 450px;
    height: 450px;

}
.no-padding
{
  padding-left: 0px;
  padding-right: 0px;

}

#f_style
{
    width: 100%;
    height: 70%;
    margin-right: 10px;

}

</style>

</head>

<canvas id="canvas" width=" 0" height="0" > ></canvas>

</div>
<script>

var video=document.getElementById('video');

if(navigator.mediaDevices && navigator.mediaDevices.getUserMedia)
{
navigator.mediaDevices.getUserMedia({video:true , audio :false}).then(function(stream){

	video.src=window.URL.createObjectURL(stream);

	});

}

var canvas=document.getElementById('canvas');
var context=canvas.getContext('2d');
document.getElementbyId('snap').addEventlistener('click',function(){

context.drawImage(video,0,0,350,350);
});

</script>


<body>




<video id="video" width="0" height="0" autoplay ></video>
<video autoplay="true" id="videoElement" name='vid'>
</video>



 <a id="download" download="⁩img.jpg"></form>
<button onclick="myFunction(); download();" align="center"  class="btn btn-primary dropdown-toggle" type="button" >capture</button></a>


<canvas id="CANVAS" name="CANVAS" width="400" height="400"  ></canvas>



<script>

  function download(){
    var download = document.getElementById("download");
    var image = document.getElementById("CANVAS").toDataURL("image/png")
                    .replace("image/jpg", "image/octet-stream");
        download.setAttribute("href", image);
        //download.setAttribute("download","archive.png");
  }





  var video = document.querySelector("#videoElement");

if (navigator.mediaDevices.getUserMedia)
{
    navigator.mediaDevices.getUserMedia({video: true})
  .then(function(stream) {
    video.srcObject = stream;
  })
  .catch(function(err0r) {
    console.log("Something went wrong!");
  });
var i=0;
function myFunction() {
  var x =  document.getElementById("CANVAS") ;
  var ctx = x.getContext("2d");
  ctx.fillStyle = "#FF0000";

  ctx.drawImage(video, 0, 0, 400, 350);

  //ctx.fillRect(20, 20, 150, 100);

  if (i <10)
  {
  document.body.appendChild(x);
  i=i+1;
};


}

}
</script>



<script src="../../ocrad.js"></script>
		<script>
			function recognize_snapshot(){
				document.getElementById('text').innerText = "(Recognizing...)"
				document.getElementById('transcription').className = "recognizing"
				OCRAD(document.getElementById("video"), {
					invert: document.getElementById('whiteText').checked // set this for white on black text
				}, function(text){
					document.getElementById('transcription').className = "done"
					document.getElementById('text').innerText = text || "(empty)";
				})
			}
</script>


</body>
</html>

